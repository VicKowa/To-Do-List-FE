{"ast":null,"code":"var _jsxFileName = \"/Users/victor/Documents/GitHub/To-Do-List-FE/src/components/TodoList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport TodoForm from './TodoForm';\nimport Todo from './Todo';\nimport \"./App.css\";\nimport APIHelper from \"./ApiHelper.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TodoList() {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [todo, setTodo] = useState(\"\");\n  useEffect(() => {\n    const fetchTodoAndSetTodos = async () => {\n      const todos = await APIHelper.getAllTodos();\n      setTodos(todos);\n    };\n\n    fetchTodoAndSetTodos();\n  }, []);\n\n  const addTodo = async e => {\n    e.preventDefault();\n\n    if (!todo) {\n      alert(\"please enter something\");\n      return;\n    }\n\n    if (todos.some(({\n      task\n    }) => task === todo)) {\n      alert(`Task: ${todo} already exists`);\n      return;\n    }\n\n    const newTodo = await APIHelper.createTodo(todo);\n    setTodos([...todos, newTodo]);\n  };\n\n  const updateTodo = async (e, id) => {\n    e.stopPropagation();\n    const payload = {\n      completed: !todos.find(todo => todo._id === id).completed\n    };\n    const updatedTodo = await APIHelper.updateTodo(id, payload);\n    setTodos(todos.map(todo => todo._id === id ? updatedTodo : todo));\n  };\n\n  const removeTodo = async (e, id) => {\n    try {\n      e.stopPropagation();\n      await APIHelper.deleteTodo(id);\n      setTodos(todos.filter(({\n        _id: i\n      }) => id !== i));\n    } catch (err) {}\n  };\n  /* const completeTodo = id => {\n     let updatedTodos = todos.map(todo => {\n       if (todo.id === id) {\n         todo.isComplete = !todo.isComplete;\n       }\n       return todo;\n     });\n     setTodos(updatedTodos);\n   };*/\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"What's the Plan for Today?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(TodoForm, {\n      onSubmit: addTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Todo, {\n      todos: todos,\n      completeTodo: completeTodo,\n      removeTodo: removeTodo,\n      updateTodo: updateTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TodoList, \"yk5WshbaLT5gJV9YCVOZUJpms7c=\");\n\n_c = TodoList;\nexport default TodoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"sources":["/Users/victor/Documents/GitHub/To-Do-List-FE/src/components/TodoList.js"],"names":["React","useState","TodoForm","Todo","APIHelper","TodoList","todos","setTodos","todo","setTodo","useEffect","fetchTodoAndSetTodos","getAllTodos","addTodo","e","preventDefault","alert","some","task","newTodo","createTodo","updateTodo","id","stopPropagation","payload","completed","find","_id","updatedTodo","map","removeTodo","deleteTodo","filter","i","err","completeTodo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAO,WAAP;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;;;AACA,SAASC,QAAT,GAAoB;AAAA;;AAClB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,EAAD,CAAhC;AAEAS,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,oBAAoB,GAAG,YAAY;AACvC,YAAML,KAAK,GAAG,MAAMF,SAAS,CAACQ,WAAV,EAApB;AACAL,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KAHD;;AAIAK,IAAAA,oBAAoB;AACrB,GANQ,EAMN,EANM,CAAT;;AAQA,QAAME,OAAO,GAAG,MAAMC,CAAN,IAAW;AACzBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI,CAACP,IAAL,EAAW;AACTQ,MAAAA,KAAK,CAAC,wBAAD,CAAL;AACA;AACD;;AACD,QAAIV,KAAK,CAACW,IAAN,CAAW,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAcA,IAAI,KAAKV,IAAlC,CAAJ,EAA6C;AAC3CQ,MAAAA,KAAK,CAAE,SAAQR,IAAK,iBAAf,CAAL;AACA;AACD;;AACD,UAAMW,OAAO,GAAG,MAAMf,SAAS,CAACgB,UAAV,CAAqBZ,IAArB,CAAtB;AACAD,IAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWa,OAAX,CAAD,CAAR;AACD,GAZD;;AAcA,QAAME,UAAU,GAAG,OAAOP,CAAP,EAAUQ,EAAV,KAAiB;AAClCR,IAAAA,CAAC,CAACS,eAAF;AACA,UAAMC,OAAO,GAAG;AACdC,MAAAA,SAAS,EAAE,CAACnB,KAAK,CAACoB,IAAN,CAAWlB,IAAI,IAAIA,IAAI,CAACmB,GAAL,KAAaL,EAAhC,EAAoCG;AADlC,KAAhB;AAGA,UAAMG,WAAW,GAAG,MAAMxB,SAAS,CAACiB,UAAV,CAAqBC,EAArB,EAAyBE,OAAzB,CAA1B;AACAjB,IAAAA,QAAQ,CAACD,KAAK,CAACuB,GAAN,CAAUrB,IAAI,IAAKA,IAAI,CAACmB,GAAL,KAAaL,EAAb,GAAkBM,WAAlB,GAAgCpB,IAAnD,CAAD,CAAR;AACD,GAPD;;AASA,QAAMsB,UAAU,GAAG,OAAOhB,CAAP,EAAUQ,EAAV,KAAiB;AAClC,QAAI;AACFR,MAAAA,CAAC,CAACS,eAAF;AACA,YAAMnB,SAAS,CAAC2B,UAAV,CAAqBT,EAArB,CAAN;AACAf,MAAAA,QAAQ,CAACD,KAAK,CAAC0B,MAAN,CAAa,CAAC;AAAEL,QAAAA,GAAG,EAAEM;AAAP,OAAD,KAAgBX,EAAE,KAAKW,CAApC,CAAD,CAAR;AACD,KAJD,CAIE,OAAOC,GAAP,EAAY,CAAE;AACjB,GAND;AASD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIM,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,QAAD;AAAU,MAAA,QAAQ,EAAErB;AAApB;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,IAAD;AACE,MAAA,KAAK,EAAEP,KADT;AAEE,MAAA,YAAY,EAAE6B,YAFhB;AAGE,MAAA,UAAU,EAAEL,UAHd;AAIE,MAAA,UAAU,EAAET;AAJd;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA,kBADF;AAYD;;GApEIhB,Q;;KAAAA,Q;AAsET,eAAeA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport TodoForm from './TodoForm';\nimport Todo from './Todo';\nimport \"./App.css\"\nimport APIHelper from \"./ApiHelper.js\"\nfunction TodoList() {\n  const [todos, setTodos] = useState([])\n  const [todo, setTodo] = useState(\"\")\n   \n  useEffect(() => {\n    const fetchTodoAndSetTodos = async () => {\n      const todos = await APIHelper.getAllTodos()\n      setTodos(todos)\n    }\n    fetchTodoAndSetTodos()\n  }, [])\n\n  const addTodo = async e => {\n    e.preventDefault()\n    if (!todo) {\n      alert(\"please enter something\")\n      return\n    }\n    if (todos.some(({ task }) => task === todo)) {\n      alert(`Task: ${todo} already exists`)\n      return\n    }\n    const newTodo = await APIHelper.createTodo(todo)\n    setTodos([...todos, newTodo])\n  }\n\n  const updateTodo = async (e, id) => {\n    e.stopPropagation()\n    const payload = {\n      completed: !todos.find(todo => todo._id === id).completed,\n    }\n    const updatedTodo = await APIHelper.updateTodo(id, payload)\n    setTodos(todos.map(todo => (todo._id === id ? updatedTodo : todo)))\n  }\n\n  const removeTodo = async (e, id) => {\n    try {\n      e.stopPropagation()\n      await APIHelper.deleteTodo(id)\n      setTodos(todos.filter(({ _id: i }) => id !== i))\n    } catch (err) {}\n  }\n \n   \n /* const completeTodo = id => {\n    let updatedTodos = todos.map(todo => {\n      if (todo.id === id) {\n        todo.isComplete = !todo.isComplete;\n      }\n      return todo;\n    });\n    setTodos(updatedTodos);\n  };*/\n\n\n     \n      return (\n        <>\n          <h1>What's the Plan for Today?</h1>\n          <TodoForm onSubmit={addTodo} />\n          <Todo\n            todos={todos}\n            completeTodo={completeTodo}\n            removeTodo={removeTodo}\n            updateTodo={updateTodo}\n          />\n        </>\n      );\n    }\n\nexport default TodoList\n"]},"metadata":{},"sourceType":"module"}